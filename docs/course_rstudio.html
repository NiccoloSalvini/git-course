<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Niccolò Salvini" />

<meta name="date" content="2021-05-01" />

<title>Git attraverso RStudio</title>

<script src="site_libs/header-attrs-2.6/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


<link rel="stylesheet" href="static/css/git_intro.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Git & GitHub con R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Sessions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="course_rstudio.html">Rstudio</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Workflows
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="workflow_rstudio.html">Workflow da Rstudio</a>
    </li>
    <li>
      <a href="workflow_review.html">Workflow per la collaborazione</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/NiccoloSalvini/git-course">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Git attraverso RStudio</h1>
<h4 class="author">Niccolò Salvini</h4>
<h4 class="date">2021-05-01</h4>

</div>


<div id="setup" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Setup</h1>
<p>Prima di cominciare questo tutorial assumo che:</p>
<ul>
<li>tu abbia <a href="https://lib.ugent.be/CRAN/">R</a> e <a href="https://www.rstudio.com/products/rstudio/download/">Rstudio</a> installati e funzionanti sul computer (~ 5 min).</li>
<li>tu abbia <a href="https://git-scm.com/">git</a> installato sul computer e puntanto sul file <code>git.exe</code>. (~ 3 min.)</li>
</ul>
<p>Per verificare la corretta installazione di Git entra su RStudio, poi apri il terminale i.e. “Terminal”, Si trova accanto alla “Console” da dove esegui di solito i comandi in R. Nel caso tu avessi difficoltà a trovarlo su Windows premi contemporamente Alt+Shift+M, su Mac Cmd+Shift+M (da verificare). Se ancora non vedi il terminale Shift+Alt+T (Tools-&gt;Terminal-&gt;Move Focus to Terminal). Una volt sul terminale esequi i seguenti comandi:</p>
<pre><code>which git</code></pre>
<p>Dovesti vedere come risposta del terminale qualcosa come: <strong>/usr/local/bin/git</strong>. Successivamente esegui:</p>
<pre><code>git --version</code></pre>
<p>L’ultima versione di <code>git</code> disponibile è la 2.31.1. Corrisponde a quella installata? Se sì procedi avanti. Se non corrisponde o compare qualche altro errore sentiti libero di mandarmi una mail <a href="mailto:niccolo.salvini27@gmail.com">me medesimo</a>. Se hai installata una versione precedente di <code>git</code> non occorre aggiornare per questo tutorial, anche se puoi considerare l’idea di farlo in prossimo futuro.</p>
<ul>
<li>tu abbia un <a href="https://github.com/join">account GitHub</a>, pensa due secondi in più al tuo nome utente, sei sempre a tempo a cambiarlo, ma potresti incorrere nei <a href="https://docs.github.com/en/github/setting-up-and-managing-your-github-user-account/changing-your-github-username">seguenti problemi</a> (~ 1 min.).</li>
</ul>
<hr />
</div>
<div id="lavora-da-solo" class="section level1" number="2" data-background="##75aada">
<h1 number="2" data-background="##75aada"><span class="header-section-number">2</span> Lavora da solo</h1>
<p>Di solito si comincia inizializzando una repository su GitHub, nel gergo tecnico <em>init</em>. Per questo step non hai assolutamente bisogno di un collaboratore/collega.</p>
<hr />
<div id="crea-una-repo-che-sta-per-repo-sitory" class="section level2" number="2.1">
<h2 number="2.1"><span class="header-section-number">2.1</span> Crea una repo (che sta per <em>repo</em> sitory)</h2>
<p>Abituati a pensarla sempre in questi termini: <strong>Un nuovo progetto comincia sempre con una nuova repo</strong>. Cominciare una nuova da <a href="https://github.com">GitHub.com</a>. è molto semplice:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<ol style="list-style-type: decimal">
<li>vai su <a href="https://github.com">GitHub</a> ed esegui il login</li>
<li>segui <a href="https://help.github.com/articles/create-a-repo/">questo tutorial</a> dalla documentazione originale per creare una repo <a href="https://help.github.com/articles/create-a-repo/#commit-your-first-change">crea il tuo primo commit</a> alla tua repository</li>
</ol>
</div>
<hr />
<p>Per questo esercizio abbiamo deciso di creare una <em>dummy repo</em>.</p>
<p><img src="static/images/create-a-repo.png" alt="crea una repo" /> (<em>scegli il nome che vuoi, non sia mai che ti suggerisca cosa fare!</em>)</p>
<hr />
<p>Già fatto 😄. Il risultato finale è il seguente:</p>
<p><img src="static/images/create-repo-result.png" alt="il risulato della creazione di una repo" /></p>
<div class="bulb">
<p><strong>Ricordati il tasto verde code, ci sarà molto utile più tardi!</strong></p>
</div>
<hr />
</div>
<div id="la-configurazione-di-git-per-rstudio" class="section level2" number="2.2">
<h2 number="2.2"><span class="header-section-number">2.2</span> La configurazione di Git per RStudio</h2>
<p>Dato il fatto che useremo Git(Hub) per amministrare esclusivamente scripts R/Rmarkdown, l’integrazione di RStudio con Git fa al caso nostro fornendo un’interfaccia facile e intuitiva come VCS (<strong>V</strong>ersion <strong>C</strong>ontrol <strong>S</strong>ystem). Ci sono altri git clients, detti <strong>SCM</strong>, di versioning, alcuni totalmente a pagamento, alcuni <em>freemium</em> con limitazioni e altri open source, <a href="https://git-scm.com/downloads/guis">qui una lista completa</a>: Alcuni sperimentati:</p>
<ul>
<li><a href="https://www.gitkraken.com/">gitKraken</a> GUI notevole e veloce, con addons molti addons come Trello o Jira (supporta Bitbucket e Gitlab, omologhi di GitHub). permette di costruire linee del tempo per tenere traccia di traguardi nello sviluppo. permette di avere una lavagna di Kaban per asseganre (nello stile di Trello) obiettivi ai collaboratori. sviluppo su repo private non concesso.</li>
<li><a href="https://git-fork.com/">fork</a> Vincenzo può aiutarmi <span class="citation">@vicnardelli</span></li>
</ul>
<div id="installazione" class="section level3" number="2.2.1">
<h3 number="2.2.1"><span class="header-section-number">2.2.1</span> Installazione</h3>
<div class="warn">
<p><strong>Sii assolutamente sicuro che tu abbia installato i requisiti:</strong></p>
</div>
<!-- <div class="bs-callout bs-callout-exercise"> -->
<!-- <h4>Esercizio:</h4> -->
<!-- 1. [Download](https://git-scm.com/downloads) Git -->
<!-- 1. Installa [RStudio](https://inbo.github.io/tutorials/installation-RStudio-admin.html) -->
<!-- </div> -->
<p>Quando sono installate correttamente allora:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<ol style="list-style-type: decimal">
<li>Apri <a href="https://inbo.github.io/tutorials/installation-RStudio-user.html">RStudio</a></li>
</ol>
</div>
<hr />
</div>
<div id="configurazione-potrebbe-essere-diversa" class="section level3" number="2.2.2">
<h3 number="2.2.2"><span class="header-section-number">2.2.2</span> Configurazione (potrebbe essere diversa)</h3>
<p>Per cominciare ad utilizzare lo strumento di versioning dobbiamo impostare una configurazione, fortunatamente lo facciamo <em>una tantum</em>.</p>
<p>Per prima cosa è necessario indicare ad RStudio dove si trova l’executable di Git (il file tramite cui Git esegue i comandi).</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<ol style="list-style-type: decimal">
<li>Vai su<code>Tools &gt; Global Options</code></li>
<li>Clicca su <code>Git/SVN</code>.</li>
<li>Assicurati che: <em>Enable version control interface for RStudio projects</em></li>
<li>Imposta il path che punta diretto all’executable di git (dove c’è l’installazione)</li>
<li>Assicurati che <em>use Git bash as shell for Git projects</em></li>
</ol>
</div>
<hr />
<p>Se non ti ricordi o non sai dove hai installato git e l’eseguibile di git (il <strong>punto 4</strong> dei passaggi precedenti) allora apri il terminale da windows con WIN+R e scrivi <code>cmd</code>, premi enter (su Mac apri Bash). Aperto il terminale scrivi <code>where git</code>, la rispota ti dirà dove si trova il file. confronta la tua risposta con la mia: <code>C:/Program Files (x86)/Git/bin/git.exe</code>, è simile? Se sì procedi. Se invece riscontri ancora problemi con la ricerca dai un’occhiata <a href="http://happygitwithr.com/rstudio-see-git.html#tell-rstudio-where-to-find-git">a questo</a>.</p>
<p><img src="static/images/RStudio-setup-git.png" style="width:50.0%" alt="RStudio setup for git" /></p>
<hr />
<p>Adesso dobbiamo dire a GitHub chi siamo, con l’obiettivo di stabilire una connessione all’account online. Per farlo git ha bisogno delle credenziali di GitHub, i.e. username e GitHub email:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<ol style="list-style-type: decimal">
<li>vai su <code>Tools &gt; Shell</code> e apri shell</li>
<li>nella shell, scrivi i seguenti comandi e premi invio.</li>
</ol>
<pre><code>git config --global user.name &quot;mygithubusername&quot;</code></pre>
<ol style="list-style-type: decimal">
<li>Sempre nella shell scrivi il seguente comando completando con la mail di registrazione e premi invio:</li>
</ol>
<pre><code>git config --global user.email &quot;my.name@gmail.com&quot;</code></pre>
</div>
<hr />
<p><img src="static/images/Rstudio-GitShell.png" style="width:75.0%" alt="RStudio setup git shell" /></p>
<p>Mi raccomando usa il tuo <strong>username GitHub</strong>! Per verificare che tutta la configurazione sia andata a buon fine esegui questo comando: <code>git config --global --list</code></p>
<p>Se la configirazione ha avuto esito positivo allora congratulazioni, il tuo setup è finito! 👍</p>
<hr />
</div>
</div>
<div id="clona-una-repo-per-lavorarci-in-locale" class="section level2" number="2.3">
<h2 number="2.3"><span class="header-section-number">2.3</span> Clona una repo per lavorarci in locale</h2>
<p>Prima abbiamo inizializzato una repo online e abbiamo configurato git per cooperare con RStudio. Adesso possiamo cominciare a lavorare sul codice localmente scaricando la repo sul laptop. RStudio provvede ad occuparsi di tutto questo in una maniera molto conveniente e facile.</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<ol style="list-style-type: decimal">
<li>vai sulla pagina GitHub della tua nuova repo copiando l’url <strong>HTTPS</strong> (<em>ricordi il bottone di prima?</em>)</li>
<li>in Rstudio prosegui per <code>File &gt; New Project...</code>, seleziona <code>Version Control</code> e scegli <code>Git</code></li>
<li>nella prima casella in alto, copia e incolla l’url <strong>HTTPS</strong> (in automatico il nome della cartella che contiene il progetto viene completata)</li>
<li>naviga fino alla cartella copiata dove desideri mettere tutti i tuoi progetti/codici R.</li>
</ol>
</div>
<hr />
<p>Per avere l’indirizzo <strong>HTTPS</strong> di clone della repo é sufficiente cliccare sopra <span style="color: green;">code</span> e premere sul piccolo bottone accanto all’indirizzo per copiare direttamente su clipboard (in alternativa seleziona e copia tutto l’url).</p>
<p><img src="static/images/copy-repo-link.png" style="width:75.0%" alt="Copy the https link of a repo" /></p>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Un esempio di setup del progetto utilizzando una repo Git può essere questo:</td>
</tr>
<tr class="even">
<td><img src="static/images/create-project-rstudio.png" style="width:75.0%" alt="Clone a repo in RStudio" /></td>
</tr>
</tbody>
</table>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<p>Cerca la cartella che corrisponde alla git repo nella destinazione al punto 4 dell’esercizio. Il contenuto della cartella corrisponde a quello che c’è nella repo online?</p>
</div>
<hr />
</div>
<div id="gitignore" class="section level2" number="2.4">
<h2 number="2.4"><span class="header-section-number">2.4</span> <code>.gitignore</code></h2>
<p>Quando si inizia un nuovo progetto in RStudio, ma anche in Python e tanti altri linguaggi è utile (anche se non propio indispensabile) aggiungere il file <code>.gitignore</code> se non esiste già. E’ infatti possibile in fase di inizializzazione della repo online, direttamente da GitHub, creare il <code>.gitignore</code> default o custom (un’alternativa può essere copiarlo da qualcuno che sta esegiuendo un progetto simile al nostro e che presumiamo ne sappia più di noi). Il file <code>.gitignore</code> definisce tutti quei files che <strong>non</strong> devono finire nella repo online per diversi motivi, alcuni:</p>
<ul>
<li>ci sono delle credenziali segrete <code>.Renviron</code> o<code>.Rprofile</code> ( TODO: link a come storare credenziali segrete in R)</li>
<li>files di sessione <code>.RData</code></li>
<li>files di logs e history <code>.Rhistory</code> e <code>.Rapp.history</code></li>
<li>file di sistema prodotti da RStudio, come<code>myprojectname.Rproj</code></li>
<li>file specifici dell’utente <code>.Ruserdata</code></li>
<li>files temporanei creati da R Markdown, esempio: <code>*.utf8.md</code> e <code>*.knit.md</code>.</li>
<li>files/ cartelle di cache come <code>*_cache/</code> o <code>/cache/</code></li>
<li>tokens per <a href="https://github.com/r-lib/httr/releases/tag/v0.3">OAuth2 authorization</a>, come <code>.httr-oauth</code></li>
<li>Se stai scivendo un pacchetto: files di risposta in seguito ad un <strong>R CMD build</strong>, come <code>/*.tar.gz</code>; files di risposta in seguito ad un <strong>R CMD check</strong> come <code>/*.Rcheck/</code></li>
<li>altri che dipendono dalle esigenze specifiche del progetto espressi con una sintassi particolar, come tutti i files preceduti da "_" nel build con <code>bookdown</code></li>
</ul>
<p>Quindi rimandendo sullo stretto necessario se non c’è già possiamo aggiungere un file di testo (<code>File &gt; New File &gt; Text File</code>) rinominandolo <code>.gitignore</code> e aggiungere nel file il seguente testo <code>myprojectname.Rproj</code>, in alternativa come nell’esercizio:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<ol style="list-style-type: decimal">
<li>vai sul <code>git</code> pane (la tab dove c’è scritto Git),</li>
<li>tasto destro sopra il file <code>....Proj</code> e seleziona nel men+ a tendina <code>Ignore...</code></li>
<li>controlla se iul contenuto del <code>.gitignore</code> è correttamente aggiornato, poi clicca <code>Save</code>.</li>
</ol>
</div>
<hr />
<p>Visto che il nostro porgetto dummy èp rinominato <code>favourite-fruit-color</code>, il corrispondente <code>.Rproj</code> file è <code>favourite-fruit-color.Rproj</code>. Cliccando il tasto destro del muose sul file è possibile selezionare ignora:</p>
<p><img src="static/images/gitignore-rstudio1.png" style="width:75.0%" alt="Ignore a file" /></p>
<hr />
<p>Linee guida su quando è necessario usare il file <code>.gitignore</code>:</p>
<ul>
<li>in ogni linguaggiuo di progrannazione dove alcuni files dono <em>derivati</em> di altri</li>
<li>quando ci sono informazioni sensibili che non devono assolutamente essere condivise e non possono essere immagazzinate negli scripts (passwords di Accounts, di database, tokens di Dropbox, etc…)</li>
<li>quando c’è una cartella con files di grandi dimensioni che non deve finire nella history (bensì backed up da qualche altra parte)</li>
<li>una cartella con files temporanei o con esempi come <em>temp/</em> o _*-Ex.R_</li>
</ul>
<hr />
<p>Nota che la sintassi del <code>.gitignore</code> è molto intuitiva e permette tramite wildcards di estendere l’ingnore a tutti i files con la medesima estensione ( per esempio <code>*.Rproj</code>) o con il medesimo prefisso o suffisso.</p>
<p><img src="static/images/gitignore-rstudio2.png" style="width:75.0%" alt="Update .gitignore" /></p>
<hr />
<p>Controllla il contenuto del <code>.gitignore</code>, se sei soddisfatto premi <code>Save</code>:</p>
<p><img src="static/images/gitignore-rstudio2.png" style="width:75.0%" alt="Update .gitignore" /></p>
<hr />
</div>
<div id="fa-il-commit" class="section level2" number="2.5">
<h2 number="2.5"><span class="header-section-number">2.5</span> Fa il <strong>commit</strong></h2>
<p>Visto che il <code>.gitignore</code> è stato modificato git ha registrato un cambiamento nella <span style="color: green;">repo locale</span> che non è nella <span style="color: red;">repo online</span> di GitHub. Allora data la nuova aaggiunta/modifica del presistente <code>.gitignore</code> possiamo fare il <code>commit</code> di questo cambiamento e fornire un messagio ce spieghi il cambiamento fatto.</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<ol style="list-style-type: decimal">
<li>Vai sul <code>git</code> pane</li>
<li>Spunta la casella accanto a <code>.gitignore</code></li>
<li>Clicca <code>Commit</code></li>
<li>Aggiungi un messaggio premendo su <code>commit message</code> e clicca commit</li>
<li>Clicca <code>Close</code> per rimuovere il summary del commit</li>
</ol>
</div>
<hr />
<p>Adesso lo stato del <code>.gitignore</code> prima che il file venga committato è giallo con un punto interrogativo accanto. Questo significa che Git ha notato un cambiamento/aggiunta di quel file.</p>
<p><img src="static/images/commit-rstudio1.png" style="width:75.0%" alt="Local commit" /></p>
<hr />
<p>Spuntando la casella accanto al <code>.gitignore</code> (oppure selezionandolo e premendo invio) e cliccando su commit si apre una finestra di dialogo dove viene chiesto a destra di inserire un messaggio di commit. (rivdere) Ogni messaggio di commit ha un header, cioè un titolo dove viene spesso riassunto il cuore di quello che è stato fatto per poi lasciare uno spazio bianco sotto l’headere ed elencare con un elenco puntato e numerato quali sono materialemente le operazioni fatte o il motivo. Il messaggio di commit è una vera e propria <strong>arte</strong> deve essere <em>semplice</em>, <em>chiaro</em> e sempre nell’ottica di far capire ad un terzo, molto probabilmente te nel futuro cosa tu abbia fatto e perchè lo hai fatto. <a href="https://chris.beams.io/posts/git-commit/">Questo post</a> può aiutarti a scrivere in maniera più efficace un commit seguendo alcune linee guida. Alcuni SCM (non quello intgrato nella IDE di RStudio) prevedono la possibilità di creare un template per il commit, cosicchè ogni volta che un file o un gruppo di files viene committato un template di commit viene generato e il processo di revisione del codice è meglio struttuato e più riproducibile. Dietro questa semplice operazione ci sono</p>
<p><img src="static/images/commit-rstudio2.png" style="width:75.0%" alt="Local commit" /></p>
<hr />
<p>Dopo questo abbiamo una piccola panoramica tecnica di quello che sta succedendo (quello che è stato aggiunto, quello che è stato tolto, quello che è stato modificato)</p>
<p><img src="static/images/commit-rstudio3.png" style="width:75.0%" alt="Local commit" /></p>
<hr />
<p>E buona pratica <strong>committare spesso</strong>. Questo permette di spezzettare la logica dello sviluppo del software in tante e piccole singole operazioni su cui si può intervenire in maniera stagna. L’uso frequente di commits permette anche di evitare alcuni probelmi comuni sia di GitHub che di RStudio. Un problema è il tempo di attesa del commit, infatti il git pane di RStudio è molto pratico ma non è ottimizzato. Fare un commit molto grosso con tanti files potrebbe richiedere molto tempo e in alcuni casi git potrebbe sputare un errore. (related issue)</p>
<p>La documentazione è un aspetto cruciale dello sviluppo di ogni software, prima ancora che per gli altri <strong>per te stesso</strong>. Il file <code>README.md</code> ti aiuta a capire lo scopo del progetto. Adesso possiamo provare a modificare il file <code>README.md</code> localmente e procedere alla stessa maniera.</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<ol style="list-style-type: decimal">
<li>Aggiorna il file <code>README.md</code> direttamente da dentro RStudio</li>
<li>Commit i cambiamenti</li>
</ol>
</div>
<hr />
<p>Ricorda che il report dei cambiamenti nel panel in basso barra in rosso le linee di codice che sono sparite dal file e in verde quelle aggiunte o modificate:</p>
<p><img src="static/images/commit-rstudio4.png" style="width:75.0%" alt="Local commit" /></p>
<hr />
</div>
<div id="push-dei-cambiamenti-su-github" class="section level2" number="2.6">
<h2 number="2.6"><span class="header-section-number">2.6</span> Push dei cambiamenti su GitHub</h2>
<p>Nota che <code>git</code> ti avverte che <em>your branch is ahead of ‘origin/master’ by 2 commits</em>, questo significa che ancora i tuoi cambiamenti sono in fase di stage, devono ancora essere trasmessi alla repo di GitHub online. Per trasmettere i cambiamenti a GitHub premi <code>push</code>.</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Esercizio:
</h4>
<ol style="list-style-type: decimal">
<li>Clicca <code>push</code> nel <code>git</code> pane</li>
<li>Vai su GitHub all’indirizzo della tua repository e verifica il commit, il messaggio e i cambiamenti</li>
</ol>
</div>
<hr />
<p>Rstudio gives you a warning about the status of your local commits versus those stored on GitHub:</p>
<p><img src="static/images/push-rstudio1.png" style="width:75.0%" alt="Push" /></p>
<hr />
<p>Is the <code>README.md</code> adapted? Where do you find the Commits overview online?</p>
<p><img src="static/images/local-commit-on-github.png" style="width:75.0%" alt="Verify your commits on GitHub" /></p>
<hr />
</div>
<div id="additional-configuration---store-your-password" class="section level2" number="2.7">
<h2 number="2.7"><span class="header-section-number">2.7</span> Additional configuration - store your password</h2>
<p>It is a tedious task to retype the password each time you want to <code>push</code> anything to GitHub. Luckily, you can store your credentials when using https:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>Click on the <code>more</code> button in the <code>git</code> pane and select <code>Shell</code></li>
<li>Type <code>git config --global credential.helper store</code></li>
<li>Type <code>exit</code> to quit the shell</li>
</ol>
</div>
<p>The next time <code>git</code> needs your credentials, it will ask them <strong>one more time and store them</strong>!</p>
<hr />
<p>The more button has a <code>wheel</code> symbol:</p>
<p><img src="static/images/https-credentials-rstudio1.png" style="width:75.0%" alt="Store credentials" /></p>
<hr />
</div>
<div id="create-logical-commits" class="section level2" number="2.8">
<h2 number="2.8"><span class="header-section-number">2.8</span> Create logical commits</h2>
<p>As mentioned earlier, you should commit often and make sure each commit links to a specific change/problem. Sometimes, this means that you have to split the additions in a single file into two individual commits. Rstudio provides the interface to include specific lines of code into a commit message:</p>
<p><img src="static/images/logical-commit-rstudio.png" style="width:75.0%" alt="Logical commit 1" /></p>
<hr />
<p>To summarize, the following actions can be executed:</p>
<ul>
<li><code>stage xyz</code>: add the xyz from the commit</li>
<li><code>unstage xyz</code>: remove the xyz from the commit</li>
<li><code>discard xyz</code>: revert the changes in the xyz (be careful, can’t be undone!)</li>
</ul>
<p>and <code>xyz</code> can be</p>
<ul>
<li>a single <code>line</code></li>
<li>a <code>selection</code> of lines</li>
<li>a <code>chunk</code>
<ul>
<li>RStudio will automatically split the changes in chunks</li>
<li>chunks are defined by 10 unchanged lines between changes</li>
</ul></li>
</ul>
<hr />
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>Make 2 unrelated changes to your <code>README.md</code> locally</li>
<li>Create one <code>commit</code> for each change:
<ol style="list-style-type: decimal">
<li>Select the changes you want to commit and click <code>stage selection</code></li>
<li>Add a <code>commit message</code> and click <code>Commit</code></li>
</ol></li>
<li>Do NOT push (yet)</li>
</ol>
</div>
<hr />
</div>
<div id="create-a-conflict" class="section level2" number="2.9">
<h2 number="2.9"><span class="header-section-number">2.9</span> Create a conflict!</h2>
<p>Sometimes, conflicts will appear. Maybe because a collaborator was working on exactly the same lines of code or because of a mistake in your workflow,… No worries, we’ll learn you how to fix conflicts by initiating one.</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<p>Update your <code>README.md</code> online on GitHub, on the exact same line you just edited locally in the previous exercise.</p>
</div>
<hr />
<p>If you do not remember how to change files online, check again <a href="https://help.github.com/articles/create-a-repo/#commit-your-first-change">this online tutorial</a>. Check the result of your online commit, similar to:</p>
<p><img src="static/images/commit-to-create-conflict.png" style="width:75.0%" alt="Commit to create conflict" /></p>
<hr />
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<p>Back in Rstudio, try to push (click <code>push</code>) your local changes.</p>
</div>
<hr />
<p>Git provides a warning about the remote changes on the same repository:</p>
<p><img src="static/images/conflict-rstudio1.png" style="width:75.0%" alt="Conflict" /></p>
<hr />
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<p>Click <code>Pull</code> to download the changes from Github</p>
</div>
<p>Git notices the <strong>CONFLICT</strong> and demands you what to do next:</p>
<ol style="list-style-type: decimal">
<li>Fix conflicts</li>
<li>Commit the result after fixing the conflict</li>
</ol>
<p><img src="static/images/conflict-rstudio2.png" style="width:75.0%" alt="Conflict" /></p>
<hr />
<p>Keep calm and resolve conflict!</p>
<p>Each conflict is always marked by the combination of the following elements:</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
your local code
=======
the code as it exists on Github
&gt;&gt;&gt;&gt;&gt;&gt;&gt; origin/master</code></pre>
<p>To solve a conflict, you have to decide which version of the code you want to keep.</p>
<hr />
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li><p>Open <code>README.md</code> in RStudio:</p>
<pre><code> &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
 A simple analysis to visualize my favourite fruit colour.
 =======
 A simple analysis to discover my favourite fruit color.
 &gt;&gt;&gt;&gt;&gt;&gt;&gt; origin/master</code></pre></li>
<li><p>Choose what you want to keep and only keep that code in the file:</p>
<pre><code> A simple analysis to discover my favourite fruit colour.</code></pre></li>
<li><p>Commit the adaptation with a commit message</p></li>
<li><p>Click <code>Push</code> to update GitHub</p></li>
</ol>
</div>
<p>If you encounter a conflict in the future, repeat this procedure.</p>
<hr />
</div>
<div id="add-a-new-file" class="section level2" number="2.10">
<h2 number="2.10"><span class="header-section-number">2.10</span> Add a new file</h2>
<p>During a project, new files will be added to the project folder, which need to be version controlled as well. New directories and files can be added and committed, just like any other adaptation.</p>
<p>By clicking the box next to a file, the file is staged (i.e. ready to be committed). Staging a new directory will stage all files in the directory. However, you can not stage empty directories!</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>Add a <code>fruits.csv</code> file in a <code>/data</code> subdirectory</li>
<li>Link to this file in the <code>README.md</code> (use relative paths), mentioning the purpose of the file</li>
<li>Commit both changes (new data file and the <code>README.md</code> adaptation) in a single commit message</li>
</ol>
</div>
<hr />
<p>Rstudio provides information about the status of the file:</p>
<ul>
<li><code>README.md</code> file is adapted (blue <em>Modified</em> box)</li>
<li><code>data/</code> is currently unknown to Git (yellow <em>Question mark</em> box)</li>
</ul>
<p><img src="static/images/add-file-rstudio1.png" style="width:75.0%" alt="Add a file" /></p>
<hr />
<p>Clicking both will make them ready to be committed. Remark, the <code>data/fruits.csv</code> file gets a green <em>Added</em> box:</p>
<p><img src="static/images/add-file-rstudio2.png" style="width:75.0%" alt="Add a file" /></p>
<hr />
</div>
<div id="adapt-last-commit" class="section level2" number="2.11">
<h2 number="2.11"><span class="header-section-number">2.11</span> Adapt last commit</h2>
<p>Sometimes, you just did a commit of some adaptations, but you see that you missed some lines of code that should be included in the same commit. Git provides the ability to <code>amend</code> a previous commit with some additional adaptations.</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>Make a change in <code>fruits.csv</code></li>
<li><code>Commit</code> as usual but <strong>check</strong> <code>amend previous commit</code> in the commit message box</li>
</ol>
</div>
<p><strong>Warning:</strong> don’t do this on commits that have been pushed. That would result in conflicts.</p>
<hr />
<p>Next to the <code>Commit</code> box, the <code>amend</code> option is available:</p>
<p><img src="static/images/amend-commit-rstudio.png" style="width:75.0%" alt="Add a file" /></p>
<hr />
</div>
<div id="view-history" class="section level2" number="2.12">
<h2 number="2.12"><span class="header-section-number">2.12</span> View history</h2>
<p>One of the advantages of using version control with regular commits is that you get a history of your project. You can check the history (the series of commits) both online on GitHub as well as in Rstudio:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>Within Rstudio, click on <code>history</code> in the <code>git</code> pane</li>
<li>On the webpage of your repository, chek the commit list</li>
</ol>
</div>
<hr />
<p>Notice the presence of <code>History</code> twice in the following image:</p>
<ul>
<li>As a separate pane (your R command history): this has nothing to do with Git</li>
<li>Within the <code>git</code> pane (the history of your commit messages)</li>
</ul>
<p><img src="static/images/history-rstudio1.png" style="width:75.0%" alt="View history" /></p>
<hr />
<p>You can click on each of the commits to verify the adaptations that were part of the specific commit:</p>
<p><img src="static/images/history-rstudio2.png" style="width:75.0%" alt="View history" /></p>
<hr />
</div>
<div id="create-a-branch-to-experiment" class="section level2" number="2.13">
<h2 number="2.13"><span class="header-section-number">2.13</span> Create a branch to experiment</h2>
<div id="how-to-make-a-new-branch" class="section level3" number="2.13.1">
<h3 number="2.13.1"><span class="header-section-number">2.13.1</span> How to make a new branch?</h3>
<p>It is good practice to ALWAYS work on (short-living) branches. It allows you to freely experiment until you are satisfied of the result and it ensures your <code>master</code> provides the last stable version of your analysis/project.</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>click on <code>Create branch</code> symbol* (next to the current branch name)</li>
<li>Provide a branch name (lowercase, no spaces)</li>
<li>Keep remote on <code>origin</code></li>
<li>Check the box <code>Sync branch with remote</code></li>
<li>Click <code>Create</code></li>
</ol>
</div>
<p>*the create branch symbol looks as follows: <img src="static/images/rstudio_branch_symbol.png" /></p>
<hr />
<p>Make sure your branch name makes sense for the work you are planning to do. Use lower case characters and <code>-</code> in between words (NO spaces!). For this example, we decided to use the name <code>analysis-script</code> for the branch name.</p>
<p><img src="static/images/branch-rstudio3.png" style="width:75.0%" alt="Create branch" /></p>
<hr />
<div class="alert alert-danger">
<h4>
Remark!
</h4>
<p>Older versions of Rstudio do not provide the functionality to create a branch directly! You will have to use the <code>Shell</code> to create the new branch:</p>
</div>
<div class="bs-callout bs-callout-info">
<h4>
Shell based approach to create a new branch:
</h4>
<ol style="list-style-type: decimal">
<li>Open the git shell</li>
<li>Create a branch by a <code>checkout</code> to new <code>branch</code>: <code>git checkout -b analysis-script</code></li>
<li>Get an overview of your branches: <code>git branch</code></li>
<li>Type <code>git push -u origin analysis-script</code> to activate <code>Push</code>/<code>Pull</code> buttons</li>
</ol>
<p>Shell based approach to create a new branch: <img src="static/images/create-branch-rstudio.png" style="width:75.0%" alt="Create branch" /></p>
<p>This will also activate the <code>pull</code> and <code>push</code> buttons. From now on, you can commit as many times as you want/need to this branch and push the commits to GitHub, where it will be stored under the same branch name:</p>
<p><img src="static/images/branch-first-push-rstudio.png" style="width:75.0%" alt="First push branch" /></p>
</div>
<hr />
<p>We can work on the just created branch and start making adaptations:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>Add an analysis file in a <code>/src</code> directory</li>
<li><code>Commit</code> the adaptation to the branch</li>
<li>Click <code>Push</code> to send the adaptations to Github</li>
<li>On GitHub website, look for your branch and check the adaptations to the branch</li>
</ol>
</div>
<hr />
</div>
<div id="effect-of-switching-branches" class="section level3" number="2.13.2">
<h3 number="2.13.2"><span class="header-section-number">2.13.2</span> Effect of switching branches</h3>
<p>The first time you switch branches and you see files disappearing, you might be wondering what is happening. No worries, Git is just making sure you only see those files relevant for the active branch. In the next exercise, we will explore this feature in more detail:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>Click on the right-top dropdown in the <code>git</code> pane</li>
<li>Switch to the status of the <code>master</code> branch by selecting <code>(LOCAL BRANCHES) -&gt; master</code></li>
<li>Verify your local directory structure in file explorer: where are your files?</li>
<li>Switch back to the status of the new branch (in the example i.e. <code>analysis-script</code>)</li>
<li>Verify your local directory structure in file explorer again: where are your files?</li>
</ol>
</div>
<hr />
<p>As in our example, the branch name is <code>analysis-script</code>, the dropdown defines this as the currently active branch. Clicking on the dropdown provides an overview of all branches:</p>
<p><img src="static/images/branch-rstudio1.png" style="width:75.0%" alt="Switch branch" /></p>
<hr />
<p>Rstudio provides you information about the switch to the <code>master</code> branch:</p>
<p><img src="static/images/branch-rstudio2.png" style="width:75.0%" alt="Switch branch" /></p>
<div class="alert alert-danger">
<p>Make sure you are currently working on your newly created branch (e.g. <code>analysis-script</code>) before you proceed!</p>
</div>
<hr />
</div>
</div>
<div id="pull-requests" class="section level2" number="2.14">
<h2 number="2.14"><span class="header-section-number">2.14</span> Pull requests</h2>
<p>When satisfied about the work done in a branch, it is time to bring these adaptations to the <code>master</code> branch as part of the <em>stable</em> analysis. NEVER merge locally on your machine, we will ALWAYS merge a branch online, by making use of a <code>Pull request</code>!</p>
<hr />
<div id="create-a-pull-request" class="section level3" number="2.14.1">
<h3 number="2.14.1"><span class="header-section-number">2.14.1</span> Create a pull request</h3>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>Click <code>push</code> (if not already done)</li>
<li>At <a href="https://github.com/">Github</a>, browse to your repository.</li>
<li>Create a <code>pull request</code> online</li>
</ol>
</div>
<hr />
<p>Github actually suggests you to <code>Compare &amp; Pull request</code> on the webpage in a new yellow box. If you do not see the messag, you can still initiate a <code>Pull request</code>. The <code>Pull request</code> aims to insert the adaptations in your branch into the <code>master</code> branch.</p>
<p><img src="static/images/pull-request-intro.png" style="width:75.0%" alt="Check Github message pull request" /></p>
<hr />
<p>In a new dialog, you can provide a short summary line about the <code>Pull request</code> with the option to add additional information. By clicking the <code>Create pull request</code> button, you actually propose the merge into the <code>master</code> branch.</p>
<p><img src="static/images/pull-request_message.png" style="width:75.0%" alt="Adapt Github message and start pull request" /></p>
<hr />
</div>
<div id="review-your-pull-request" class="section level3" number="2.14.2">
<h3 number="2.14.2"><span class="header-section-number">2.14.2</span> Review your pull request</h3>
<p>While working on your own and you are sure about the changes, you can actually merge the <code>Pull request</code> yourself. Although, this is the ideal moment for revision of the code (you can ask people to review your code, but automated checks can be added as well).</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>Review your own code!</li>
<li>If OK, merge the <code>Pull request</code>.</li>
<li>Do not forget to delete the branch online (Github asks you to)</li>
</ol>
</div>
<hr />
<p><img src="static/images/pr.png" style="width:75.0%" alt="See pull request" /></p>
<hr />
</div>
<div id="include-your-accepted-work-to-local-master" class="section level3" number="2.14.3">
<h3 number="2.14.3"><span class="header-section-number">2.14.3</span> Include your accepted work to local master</h3>
<p>For the moment, your adaptations are integrated into the <code>master</code> branch online, but not yet on your local computer. So, you have to update the local <code>master</code> branch:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ol style="list-style-type: decimal">
<li>In Rstudio, switch to the <code>master</code> branch (right top in <code>Git</code> pane)</li>
<li>Click <code>Pull</code></li>
<li>Remove the local branch as well (otherwise you will have a lot of them after a while). You need to open the Shell: <code>git branch -d analysis-script</code></li>
</ol>
</div>
<p><img src="static/images/pull-rstudio.png" style="width:75.0%" alt="git pull" /></p>
<hr />
</div>
</div>
</div>
<div id="working-together" class="section level1" number="3" data-background="#c2c444">
<h1 number="3" data-background="#c2c444"><span class="header-section-number">3</span> Working together</h1>
<hr />
<div id="invite-collaborators" class="section level2" number="3.1">
<h2 number="3.1"><span class="header-section-number">3.1</span> Invite collaborators</h2>
<p>You now have experienced all the major steps to effectively use version control with Git. We can now apply these same steps when working together.</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ul>
<li>Team up with two or three persons</li>
<li>Let one person invite the others, provide them with read/write access as explained in <a href="https://help.github.com/articles/inviting-collaborators-to-a-personal-repository/">this tutorial</a></li>
</ul>
</div>
<hr />
<p>On your own repository, you have all admin rights to add <code>Collaborators</code> in the <code>Settings</code> section of GitHub:</p>
<p><img src="static/images/invite-collaborator.png" style="width:75.0%" alt="Invite collaborator" /></p>
<hr />
<p>When invited to collaborate, you have to <code>Accept invitation</code> in order to start working on the repository:</p>
<p><img src="static/images/react-collaborator.png" style="width:75.0%" alt="react to collaborator" /></p>
<hr />
</div>
<div id="issues" class="section level2" number="3.2">
<h2 number="3.2"><span class="header-section-number">3.2</span> Issues</h2>
<p>Issues can be used for multiple purposes: alerting colleagues about a bug in the code, proposing new features, discussing specific steps in the analysis,…</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ul>
<li>Raise an <code>issue</code> online</li>
<li>Provide issues with an appropriate <code>label</code></li>
<li>Assign your colleague to the issue</li>
</ul>
</div>
<hr />
</div>
<div id="online-adaptations" class="section level2" number="3.3">
<h2 number="3.3"><span class="header-section-number">3.3</span> Online adaptations</h2>
<p>When there is no coding involved, e.g. you just need to update a few text lines in a markdown file, the usage of the online GitHub features could be sufficient enough:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ul>
<li>Make an adaptation to an online file</li>
<li>Propose a <code>pull request</code> and assign your collaborator</li>
<li>Merge the adaptation to the <code>master</code> branch</li>
</ul>
</div>
<hr />
</div>
<div id="local-adaptations" class="section level2" number="3.4">
<h2 number="3.4"><span class="header-section-number">3.4</span> Local adaptations</h2>
<p>In this section, all the individual steps come together to collaborate on the code of your project. First, we will start with a rehearsel of the individual steps as an exercise. Afterwards, we will try out a workflow that can be used as a step by step procedure in the future.</p>
<div class="alert alert-danger">
<h4>
Remember!
</h4>
<p><strong>Working on a local branch - merging online</strong></p>
</div>
<hr />
<p>You can interpret the following exercise as a wrap-up of the steps learnt in the previous section:</p>
<div class="bs-callout bs-callout-exercise">
<h4>
Exercise:
</h4>
<ul>
<li>As collaborator, <code>clone</code> the other repository to your local computer</li>
<li>Create a new <code>branch</code> locally with a different name</li>
<li>Adapt the content of a file</li>
<li><code>Commit</code> your adaptation</li>
<li><code>Push</code> your <code>branch</code> to the remote repository</li>
<li>Go to GitHub and make a <code>Pull request</code></li>
<li>Revise the work and <code>merge</code> online when appropriate</li>
<li>Update your local work</li>
<li>Check if all adaptations are represented in your local files</li>
</ul>
</div>
<p><strong>Tip</strong>: All functionalities are described in the previous sections</p>
<hr />
</div>
<div id="step-by-step-workflow" class="section level2" number="3.5">
<h2 number="3.5"><span class="header-section-number">3.5</span> Step by step workflow</h2>
<p>The steps of the previous exercise provide the main building blocks. Nevertheless, when working on a project, a step by step procedure can help in the beginning to remember the workflow. A dedicated version for Rstudio is available at this repo as a separate <a href="./workflow_rstudio.html">workflow overview</a>.</p>
<hr />
</div>
<div id="release" class="section level2" number="3.6">
<h2 number="3.6"><span class="header-section-number">3.6</span> Release</h2>
<p>Once you are satisfied with the status of your analysis, it makes sense to create a release:</p>
<ul>
<li>For publications (DOI)</li>
<li>For code/software development versions</li>
<li>For course notes</li>
</ul>
<p>Follow <a href="https://help.github.com/articles/creating-releases/">this tutorial</a> to create a release.</p>
<hr />
</div>
</div>
<div id="some-more-rules-for-collaboration" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Some more <em>Rules for collaboration</em>:</h1>
<ul>
<li>Commit often, make small commits</li>
<li>Don’t mix changes in 1 commit</li>
<li>Think about your commit messages</li>
<li>Always commit into a feature branch, never in the <code>master</code> branch.</li>
<li>Always start features branches from the <code>master</code> branch.</li>
<li>Only work in your own branches.</li>
<li>Never merge someone else’s <code>pull request</code> without their consent.</li>
<li>Don’t keep long-lived branches (form of technical debt)</li>
</ul>
<hr />
<p><strong>There’s no such thing, as a free lunch…</strong></p>
<hr />
<!-- ...but if you're hungry you can  -->
<!-- * Webinars -->
<!--     - [Github and Rstudio management](https://www.rstudio.com/resources/webinars/rstudio-essentials-webinar-series-managing-part-2/) -->
<!--     - [Collaboration and time travel: version control with git, github and RStudio](https://www.rstudio.com/resources/webinars/collaboration-and-time-travel-version-control-with-git-github-and-rstudio/) -->
<!-- * Tutorials -->
<!--     - [Hadley Wickham R packages book](http://r-pkgs.had.co.nz/git.html) -->
<!--     - [Happy Git and GitHub for the useR](http://happygitwithr.com/index.html) -->
<!-- --- -->
<!-- Information combined at [INBO Git course](https://github.com/inbo/git-course). <br/>You're welcome to provide issues, pull requests,... -->
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
